<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <meta name="description" content="Code, design, systems">
    <title>blog.iyue.club - 安装和配置elasticsearch</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" type="text/css">
    <link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura.css" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Noto+Serif" rel="stylesheet">
    <link rel="stylesheet" href="../css/core.css" />
    <link rel="image_src" href="../favicon.ico" />
    <link rel="alternate" type="application/rss+xml" title="iyue.club" href="../rss.xml" />
  </head>
  <body>
    <header>
      <h1>
        <a href="../">Joey's Blog
        </a>
      </h1>

      <nav>
        <ul>
          <li>
            <a href="../">Home</a>
          </li>
          <li>
            <a href="../posts.html">Posts</a>
          </li>
          <li>
            <a href="../tags.html">Tags</a>
          </li>
          <li>
            <a href="../about.html">About</a>
          </li>
          <li>
            <a href="../rss.xml">RSS</a>
          </li>
        </ul>
      </nav>
    </header>

    <section>
      <article>
  <header>
    <h2 class="post-title">安装和配置elasticsearch</h2>
    <p class="metadata">
      <span class="date">September  3, 2016</span> - <span class="tags"><a href="../tags/web.html">web</a>, <a href="../tags/php.html">php</a>, <a href="../tags/laravel.html">laravel</a>, <a href="../tags/elasticsearch.html">elasticsearch</a></span>
    </p>
  </header>
  <p><a href="https://www.elastic.co/products/elasticsearch">elasticsearch</a>是一个非常优秀的搜索工具，比数据库的搜索功能好太多了，以下介绍elasticsearch的配置与应用，以下操作在ubuntu 16.04下进行</p>
<h3 id="安装">安装</h3>
<p>ubuntu 16.04中默认已经使用elasticsearch 5.x的源了，jdk最好使用java8 1. <code>apt install default-jre default-jdk</code> 2. <code>apt install elasticsearch</code></p>
<h3 id="启动">启动</h3>
<p><code>systemctl start elasticsearch.service</code> 如果一切顺利，执行<code>curl 'http://localhost:9200'</code>的时候就可以正常返回一个json</p>
<h3 id="安装中文分词插件ik">安装中文分词插件<a href="https://github.com/medcl/elasticsearch-analysis-ik">ik</a></h3>
<ol style="list-style-type: decimal">
<li>安装mvn <code>apt install maven</code></li>
<li>按照github说明安装插件(elasticsearch对插件版本要求比较严格，有时候要自己改插件编译配置)</li>
<li>把编译好的zip文件复制到<code>/usr/local/share/elasticsearch/plugins/ik</code>中，删除目录中原有的代码，解压zip包，重启es</li>
<li>重启之后要监控es的日志，避免因为更新插件导致启动失败</li>
</ol>
<h3 id="实际应用">实际应用</h3>
<p>在laravel 5.4中已经集成了<a href="https://laravel.com/docs/5.4/scout">laravel-scout</a>，所以就不需要像以前那样使用第三方的包了，不过令人伤心的是在<a href="https://github.com/laravel/scout/tree/2.0">scout v2.0</a>之后，es的支持就被剥离出核心项目了，当然如果想继续使用scout+es，可以使用<a href="https://github.com/ErickTamayo/laravel-scout-elastic">laravel-scout-elastic</a>，这个库代码很少，包含了基本的api，使用很方便。</p>
</article>

    </section>

    <footer>
      Generated using <a href="http://jaspervdj.be/hakyll/">Hakyll</a>. Source available on <a href="https://github.com/xcaptain/xcaptain.github.io">GitHub</a>.
    </footer>
  </body>
</html>
